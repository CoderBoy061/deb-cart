{"ast":null,"code":"var _jsxFileName = \"F:\\\\assesment\\\\client\\\\src\\\\components\\\\Payment.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Payment = () => {\n  _s();\n\n  const [user, setUser] = useState({});\n  const [paymentId, setpaymentId] = useState(\"\");\n  const [orderId, setorderId] = useState(\"\");\n  const [signature, setsignature] = useState(initialState);\n  useEffect(() => {\n    setUser(JSON.parse(localStorage.getItem(\"user_details\")));\n    console.log(user);\n  }, []);\n\n  const makePayment = async e => {\n    e.preventDefault();\n    const res = await axios.post(\"http://localhost:5000/createorder\");\n    console.log(res.data);\n\n    if (res.status !== 200) {\n      return;\n    }\n\n    const options = {\n      \"key\": \"rzp_test_Qey3iC23cu7rAo\",\n      // Enter the Key ID generated from the Dashboard\n      \"amount\": res.data.amount,\n      // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n      \"currency\": res.data.currency,\n      \"name\": \"DebCart\",\n      \"description\": res.data.notes.title,\n      \"image\": res.data.notes.image,\n      \"order_id\": res.data.id,\n      //This is a sample Order ID. Pass the `id` obtained in the previous step\n      \"handler\": function (response) {\n        alert(response.razorpay_payment_id);\n        alert(response.razorpay_order_id);\n        alert(response.razorpay_signature);\n      },\n      \"prefill\": {\n        \"name\": \"Gaurav Kumar\",\n        \"email\": \"gaurav.kumar@example.com\",\n        \"contact\": \"9999999999\"\n      },\n      \"notes\": {\n        \"address\": \"Razorpay Corporate Office\"\n      },\n      \"theme\": {\n        \"color\": \"#3399cc\"\n      }\n    };\n    var rzp1 = new Razorpay(options);\n    rzp1.on('payment.failed', function (response) {\n      alert(response.error.code);\n      alert(response.error.description);\n      alert(response.error.source);\n      alert(response.error.step);\n      alert(response.error.reason);\n      alert(response.error.metadata.order_id);\n      alert(response.error.metadata.payment_id);\n    });\n\n    document.getElementById('rzp-button1').onclick = function (e) {\n      rzp1.open();\n      e.preventDefault();\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment\",\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: e => makePayment(e),\n      children: \"Make payment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Payment, \"NGVtcvFLZFiq68dfcrD2sBi9TI4=\");\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["F:/assesment/client/src/components/Payment.jsx"],"names":["React","useEffect","useState","Button","axios","Payment","user","setUser","paymentId","setpaymentId","orderId","setorderId","signature","setsignature","initialState","JSON","parse","localStorage","getItem","console","log","makePayment","e","preventDefault","res","post","data","status","options","amount","currency","notes","title","image","id","response","alert","razorpay_payment_id","razorpay_order_id","razorpay_signature","rzp1","Razorpay","on","error","code","description","source","step","reason","metadata","order_id","payment_id","document","getElementById","onclick","open"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport axios from \"axios\";\r\n\r\nconst Payment = () => {\r\n  const [user, setUser] = useState({});\r\nconst [paymentId, setpaymentId] = useState(\"\");\r\nconst [orderId, setorderId] = useState(\"\");\r\nconst [signature, setsignature] = useState(initialState)\r\n  useEffect(() => {\r\n    setUser(JSON.parse(localStorage.getItem(\"user_details\")));\r\n    console.log(user);\r\n  }, []);\r\n  const makePayment = async (e) => {\r\n    e.preventDefault();\r\n    const res = await axios.post(\"http://localhost:5000/createorder\");\r\n    console.log(res.data);\r\n    if (res.status !== 200) {\r\n      return;\r\n    } \r\n          const  options = {\r\n              \"key\": \"rzp_test_Qey3iC23cu7rAo\", // Enter the Key ID generated from the Dashboard\r\n              \"amount\": res.data.amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\r\n              \"currency\":res.data.currency,\r\n              \"name\": \"DebCart\",\r\n              \"description\": res.data.notes.title,\r\n              \"image\": res.data.notes.image,\r\n              \"order_id\":res.data.id, //This is a sample Order ID. Pass the `id` obtained in the previous step\r\n              \"handler\": function (response){\r\n                  alert(response.razorpay_payment_id);\r\n                  alert(response.razorpay_order_id);\r\n                  alert(response.razorpay_signature)\r\n              },\r\n              \"prefill\": {\r\n                  \"name\": \"Gaurav Kumar\",\r\n                  \"email\": \"gaurav.kumar@example.com\",\r\n                  \"contact\": \"9999999999\"\r\n              },\r\n              \"notes\": {\r\n                  \"address\": \"Razorpay Corporate Office\"\r\n              },\r\n              \"theme\": {\r\n                  \"color\": \"#3399cc\"\r\n              }\r\n          };\r\n          var rzp1 = new Razorpay(options);\r\n          rzp1.on('payment.failed', function (response){\r\n                  alert(response.error.code);\r\n                  alert(response.error.description);\r\n                  alert(response.error.source);\r\n                  alert(response.error.step);\r\n                  alert(response.error.reason);\r\n                  alert(response.error.metadata.order_id);\r\n                  alert(response.error.metadata.payment_id);\r\n          });\r\n          document.getElementById('rzp-button1').onclick = function(e){\r\n              rzp1.open();\r\n              e.preventDefault();\r\n          }\r\n  };\r\n  return (\r\n    <div className=\"payment\">\r\n      <Button variant=\"contained\" onClick={(e) => makePayment(e)}>\r\n        Make payment\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n"]},"metadata":{},"sourceType":"module"}